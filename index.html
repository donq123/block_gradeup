<!DOCTYPE html>
<html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.0/dist/svg.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
		<script src="gradeupjs/heatmap.js"></script>
		<script src="gradeupjs/grades2.js"></script>
		<script src="gradeupjs/burnup.js"></script>
    </head>
    <body style="background-color: rgb(119, 190, 187);">
        <h2 style="font-size:30px; color:green; text-align:center">Gradeup 2</h2>
        
		
		<label for="cars">Which Course do you want to see?</label>
			<select name="cars" id="courseSelection">
			<option value="2">Math</option>
			<option value="4">English</option> <! the value is the course id?>
		</select>
		
		Change the Scale: <input type="number" id="scaleSelection" name="scaleInput" value="600" min="100" max="1000">
		<br><br>
		 
		<div id="svgContainer"></div>
		<div id="svgContainer2"></div>
		
    </body>
    <script>
		/*TODO:			
			update block_gradeup.php to save all course grades so the above works^
			add text entry to set scale in javascript to help resize the page
			add redraw option to burnup and heatmap chart so if the scale is changed OR the class selected is changed....it removes the old and redraws
			pull out the string maker for the javascript and 
		*/

		var e = document.getElementById("courseSelection");
		var courseSelected = e.options[e.selectedIndex].value;
		console.log("User selected Course: " + courseSelected);
		
		var s = document.getElementById("scaleSelection");
		var userScale = s.value;
		console.log("User set Scale to: " + userScale);
	
        //Normally a call to get data, but this will do for an example
        function getData() {
            let data = grades;
            return data;
        }

        let promptString = 'Please enter a What-IF Grade';
        let gradeString = 'Grade';
        let weightString = 'Weight';
        let averageString = 'Average';
        let maxGradeString = 'Max Grade';
        let projectionGradeString = 'Projection Grade';
        let legendMinString =  'Your Current/Min Grade';
        let legendAverageString = 'Class Average';
        let potentialGradeString = 'Your Potential/Max Grade';
        let predictedGradeString = 'Your Predicted Grade';
        let legendString = 'Legend';
        let resetButtonString = 'Reset Data';
        let heatMapString = "Heatmap Chart";
		
		let data = getData();
		let scale = 600;
		var draw = SVG().addTo('#svgContainer').size(scale+400,scale+100); //additional area for chart legend and assignment names
		drawChart(scale,draw);
		drawAssignments(scale, draw,data);
		
		var draw2 = SVG().addTo('#svgContainer2').size(scale+scale*.66,scale/2);
		drawHeatMap(scale,draw2,data);
     </script>
</html>